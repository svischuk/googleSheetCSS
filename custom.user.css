/* ==UserStyle==
@name         Google Sheets Optimized
@namespace    com.gmail.svischuk.googleSheetCSS
@version      2.3
@license      MIT
==/UserStyle== */
@-moz-document url-prefix("https://docs.google.com/spreadsheets") {
    :root {
        --row-height: 19px;
        --active-tab-gradient: linear-gradient(90deg, #000, transparent);
        --tab-gradient: linear-gradient(90deg, #f9fbfd, transparent);
        --tab-hover-gradient: linear-gradient(90deg, #bfbfbf, transparent);
        --text-color: #000;
        --active-text-color: #fff;
        --quick-sum-bg: #c4eed0;
        --quick-sum-border: #89aa92;
        --quick-sum-border-width: 1px;
        --quick-sum-border-style: solid;
    }

    /* Tab container improvements */
    .docs-sheet-container-bar.goog-toolbar.goog-inline-block {
        display: grid;
        grid-template-columns: repeat(auto-fit, 128px);
        gap: 2px;
        min-height: 40px;
    }

    /* Active tab styling */
    .docs-grille-gm3 .docs-sheet-active-tab .docs-sheet-tab-name,
    .docs-grille-gm3 .docs-sheet-active-tab:focus .docs-sheet-tab-name {
        font-weight: unset;
        background: var(--active-tab-gradient);
        color: var(--active-text-color) !important;
    }

    /* Structural elements */
    #grid-bottom-bar,
    .docs-sheet-outer-container,
    .docs-sheet-outer-container * {
        width: 100% !important;
        height: auto !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    .docs-sheet-status-container-avs * {
        padding: 0 !important;
        margin: 0 !important;
        border: none !important;
    }

    /* Color tab positioning */
    .docs-gm .docs-sheet-tab-color {
        top: 0;
        position: absolute;
        z-index: -10;
    }

    .docs-sheet-tab-name {
        color: var(--text-color) !important;
        padding: 1px 0 0 5px !important;
        background: var(--tab-gradient);
    }

    .docs-icon.goog-inline-block.docs-sheet-lock-container,
    .docs-icon.goog-inline-block.docs-sheet-timeline-icon-container,
    .docs-companion-app-switcher-container.docs-material.docs-companion-app-switcher-container-collapsed {
        display: none;
    }

    .goog-inline-block.docs-sheet-tab.docs-material {
        display: table-cell;
        overflow: clip;
        border-radius: 0 15px 15px 0;
        border: none;
        max-height: var(--row-height);
    }

    .docs-sheet-status-container-avs {
        position: absolute;
        top: -53px;
        right: 15px;
    }

    .goog-inline-block.goog-flat-menu-button.jfk-select,
    .waffle-quicksum-container {
        background: var(--quick-sum-bg);
        border: var(--quick-sum-border-style) var(--quick-sum-border-width) var(--quick-sum-border) !important;
        border-radius: 100px;
        box-sizing: content-box;
        padding: 0 10px!important;
    }

    .waffle-quicksum-container {
        padding-right: 30px!important;
    }
    .docs-sheet-tab-name:hover {
        background: var(--tab-hover-gradient);
    }
}
